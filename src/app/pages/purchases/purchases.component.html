<!-- Purchases Table -->
<app-table
  [listData]="filteredData"
  [columns]="columns"
  [total]="listOfPurchases.length"
  [pageSize]="pageSize"
  [pageIndex]="pageIndex"
  [loading]="loading"
  (queryParamsChange)="handleQueryParamsChange($event)"
  (edit)="editModalOpen($event)"
  (delete)="deleteModalOpen($event)"
></app-table>

<!-- Edit Modal -->
<app-modal
  [modalId]="'edit'"
  [title]="'Edit Task'"
  [confirmBtnText]="'Submit'"
  (confirmed)="onEditConfirmed($event)"
>
  <div class="flex flex-col gap-y-4">
    <!-- <div class="flex flex-col">
      <label class="text-sm font-medium mb-1 text-gray-700">Task Name</label>
      <input
        nz-input
        placeholder="Enter task name"
        [(ngModel)]="taskNameVal"
        class="ant-input w-full"
      />
    </div> -->
    <app-select-category
      [defaultCategory]="taskNameVal!"
      (selectedValue)="taskNameId = $event!.index"
    ></app-select-category>

    <div class="flex flex-col">
      <label class="text-sm font-medium mb-1 text-gray-700">Cost</label>
      <app-number-input [(value)]="costVal" [lable]="'Cost'"></app-number-input>
    </div>

    <div class="flex flex-col">
      <label class="text-sm font-medium mb-1 text-gray-700"
        >Purchase Date</label
      >
      <nz-date-picker
        [(ngModel)]="date"
        (ngModelChange)="datePickerHandler($event)"
        class="w-full"
      ></nz-date-picker>
    </div>
  </div>
</app-modal>

<!-- Delete Modal -->
<app-modal
  [modalId]="'delete'"
  [title]="'Remove Task'"
  [confirmBtnText]="'Delete'"
  (confirmed)="onDeleteConfirmed($event)"
>
  Are you sure you want to delete this task?
</app-modal>
